---
alwaysApply: true
---

# Project-wide Conventions

- Use TypeScript strict mode everywhere.
- Prefer functional, small modules. Avoid long classes.
- Always write a short JSDoc for exported functions and types.
- Do not hardcode env secrets; read from process.env with typed helpers.
- **ALWAYS use axios** for HTTP requests - never use native `fetch()`.

# Tasks

- `pnpm dev`: run all dev servers (web + api).
- `pnpm build`, `pnpm test`, `pnpm lint`, `pnpm typecheck` use Turborepo.

# Files & Paths

- Shared code is in `packages/shared`. Import with `@shared/core` for the main entry.
- Shared types by domain:
  - `types/auth.ts` - Authentication (login, session, MFA)
  - `types/users.ts` - Users, roles, offices
  - `types/invites.ts` - User invitations
  - `types/company.ts` - Company settings
  - `types/api/` - Pagination, responses
  - `types/errors.ts` - Error codes and helpers
- When adding shared types, export from `packages/shared/src/types/index.ts` and run `pnpm --filter @shared/core build`.

# Documentation Coupling (MANDATORY)

- When making changes that affect developer setup or DX, you MUST update `README.md` in the same change set.
- This includes: scripts, environment variables, ports/URLs, bootstrap instructions.

# Commit Hygiene

- Keep PRs small. Add/adjust tests with code changes.

# Specialized Rules

- **Quality Assurance**: See `.cursor/rules/quality-assurance.mdc`
- **Self-Improvement**: See `.cursor/rules/self-improvement.mdc`
- **Backend (API)**: See `.cursor/rules/backend.mdc`
- **Frontend (Web)**: See `.cursor/rules/frontend.mdc`
- **Permissions**: See `.cursor/rules/permissions.mdc`
- **Security**: See `.cursor/rules/security.mdc`
- **Testing**: See `.cursor/rules/testing.mdc`

# Comprehensive Documentation

- **Architecture**: See `docs/ARCHITECTURE.md`
- **Development**: See `docs/DEVELOPMENT.md`
- **Security**: See `docs/SECURITY.md`
- **Contributing**: See `CONTRIBUTING.md`
- **ADRs**: See `docs/adr/`
